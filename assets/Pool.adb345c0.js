import{d as F,f as M,j as g,r as k,a1 as D,c as G,k as e,y as n,a2 as r,u as s,ae as B,P as p,Q as _,o as S}from"./vendor.b1415288.js";import{u as K,C as b,i as j,g as L,s as z,a as N,b as q,d as Q,P as W,c as Y,e as H}from"./index.05314571.js";const J={class:"container mx-auto text-left mb-3rem"},O={class:"flex items-center"},X=e("div",{class:"w-10rem"},"Program id *",-1),Z=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init pool -------",-1),$={class:"flex items-center mb-1rem"},ee=e("div",{class:"w-10rem"},"Root Account *",-1),te={class:"flex items-center mb-1rem"},oe=e("div",{class:"w-10rem"},"Rent Account *",-1),se={class:"flex items-center mb-1rem"},ne=e("div",{class:"w-10rem"},"Token1 *",-1),re={class:"flex items-center mb-1rem"},ie=e("div",{class:"w-10rem"},"Start Time",-1),le={class:"flex items-center"},ae=e("div",{class:"w-10rem"},"ism",-1),de=e("div",{class:"mb-1rem opacity-50 mt-1"},"ism\u586B9\u4F4D\u7CBE\u5EA6\u540E\uFF081000000000\uFF09",-1),ce=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get pool -------",-1),me={class:"flex items-center mb-1rem"},ue=e("div",{class:"w-10rem"},"Pool id *",-1),pe=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set token -------",-1),be={class:"flex items-center mb-1rem"},ve=e("div",{class:"w-10rem"},"Pool id *",-1),xe={class:"flex items-center mb-1rem"},fe=e("div",{class:"w-10rem"},"Token id *",-1),we={class:"flex items-center mb-1rem"},_e=e("div",{class:"w-10rem"},"Token index *",-1),ye={class:"flex items-center mb-1rem"},ge=e("div",{class:"w-10rem"},"Token rate *",-1),ke={class:"flex items-center mb-1rem"},Ae=e("div",{class:"w-10rem"},"Token price *(decimal: 9)",-1),Ie=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init miner -------",-1),Te={class:"flex items-center mb-1rem"},Ue=e("div",{class:"w-10rem"},"Pool id *",-1),Pe={class:"flex items-center mb-1rem"},Ve=e("div",{class:"w-10rem"},"Referee *",-1),Ce=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get miner -------",-1),he={class:"flex items-center mb-1rem"},Ee=e("div",{class:"w-10rem"},"Miner id *",-1),Re=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Deposit -------",-1),Fe={class:"flex items-center mb-1rem"},Me=e("div",{class:"w-10rem"},"Pool index *",-1),De={class:"flex items-center mb-1rem"},Ge=e("div",{class:"w-10rem"},"Pool id *",-1),Be={class:"flex items-center mb-1rem"},Se=e("div",{class:"w-10rem"},"Ref count *",-1),Ke={class:"flex items-center mb-1rem"},je=e("div",{class:"w-10rem"},"Amount *",-1),Le={class:"flex items-center mb-1rem"},ze=e("div",{class:"w-10rem"},"Auto ex *",-1),Ne={class:"w-full"},qe={class:"flex items-center mb-1rem"},Qe=e("div",{class:"w-10rem"},"Min ex amount *",-1),We=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Upgrade Level -------",-1),Ye={class:"flex items-center mb-1rem"},He=e("div",{class:"w-10rem"},"Level *",-1),Je=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Claim -------",-1),et=F({setup(Oe){const{publicKey:c,sendTransaction:x,signTransaction:Xe}=M(),{solConnectionState:i}=K(),y=g(b.programId),l=k({rootAccount:b.defaultRootAccount,marketAccount:b.defaultMarketAccount,token1:b.systemTokenAddress,startTime:Math.floor(new Date().getTime()/1e3),ism:"0"}),I=async()=>{if(!c.value)return;const{allIns:d,signers:t}=await j({connection:i.connection,poolProgramKey:new p(y.value),payer:c.value,marketAccount:new p(l.marketAccount),rootAccount:new p(l.rootAccount),token1:new p(l.token1),startTime:l.startTime.toString(),ism:l.ism}),o=new _().add(...d),u=await x(o,i.connection,{signers:t});await i.connection.confirmTransaction(u,"processed")},f=g(b.poolAddress),T=async()=>{!f.value||(console.log(f.value),await L(i.connection,f.value))},m=k({poolId:b.poolAddress,tokenId:"",index:"0",rate:"50",price:"1"}),U=async()=>{if(!c.value)return;const{allIns:d,signers:t}=await z(i.connection,c.value,m),o=new _().add(...d),u=await x(o,i.connection,{signers:t});await i.connection.confirmTransaction(u,"processed")},v=k({poolId:b.poolAddress,referee:"7zycrP9ERdFexcBPPrv44zyxRjp28fpvFf5PE5h5D4Yb",isRoot:!0}),P=async()=>{if(!c.value)return;const{allIns:d,signers:t}=await N(i.connection,c.value,{poolProgramKey:new p(y.value),poolKey:new p(v.poolId),referee:new p(v.referee),isRoot:v.isRoot}),o=new _().add(...d),u=await x(o,i.connection,{signers:t});await i.connection.confirmTransaction(u,"processed")},w=g(""),V=async()=>{!w.value||await q(i.connection,new p(w.value))},a=k({poolIndex:0,poolAddress:b.poolAddress,refCount:"0",amount:"0.01",autoEx:!0,minExAmount:"0",refers:[]}),C=async()=>{if(!c.value)return;const{allIns:d,signers:t}=await Q(i.connection,c.value,a,W[Number(a.poolIndex)]),o=new _().add(...d),u=await x(o,i.connection,{signers:t});await i.connection.confirmTransaction(u,"processed")},A=g("1"),h=async()=>{if(!c.value)return;const{allIns:d,signers:t}=await Y(c.value,A.value),o=new _().add(...d),u=await x(o,i.connection,{signers:t});await i.connection.confirmTransaction(u,"processed")},E=async()=>{const d=await H();console.log("pool reward auth account:",d)};D(()=>{c.value&&(w.value=c.value.toBase58())});const R=async()=>{const d=await i.connection.requestAirdrop(c.value,2e9);await i.connection.confirmTransaction(d)};return(d,t)=>(S(),G("div",J,[e("div",{class:"text-center mb-2rem"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:R},"Get airdrop")]),e("div",O,[X,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>y.value=o)},null,512),[[r,y.value]])]),Z,e("div",$,[ee,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s(l).rootAccount=o)},null,512),[[r,s(l).rootAccount]])]),e("div",te,[oe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s(l).marketAccount=o)},null,512),[[r,s(l).marketAccount]])]),e("div",se,[ne,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s(l).token1=o)},null,512),[[r,s(l).token1]])]),e("div",re,[ie,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>s(l).startTime=o)},null,512),[[r,s(l).startTime]])]),e("div",le,[ae,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>s(l).ism=o)},null,512),[[r,s(l).ism]])]),de,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:I},"Init Pool")]),ce,e("div",me,[ue,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>f.value=o)},null,512),[[r,f.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:T},"Get Pool")]),pe,e("div",be,[ve,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>s(m).poolId=o)},null,512),[[r,s(m).poolId]])]),e("div",xe,[fe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>s(m).tokenId=o)},null,512),[[r,s(m).tokenId]])]),e("div",we,[_e,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>s(m).index=o)},null,512),[[r,s(m).index]])]),e("div",ye,[ge,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>s(m).rate=o)},null,512),[[r,s(m).rate]])]),e("div",ke,[Ae,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>s(m).price=o)},null,512),[[r,s(m).price]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:U},"Set token")]),Ie,e("div",Te,[Ue,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[12]||(t[12]=o=>s(v).poolId=o)},null,512),[[r,s(v).poolId]])]),e("div",Pe,[Ve,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>s(v).referee=o)},null,512),[[r,s(v).referee]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:P},"Init Miner")]),Ce,e("div",he,[Ee,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>w.value=o)},null,512),[[r,w.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:V},"Get miner")]),Re,e("div",Fe,[Me,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>s(a).poolIndex=o)},null,512),[[r,s(a).poolIndex]])]),e("div",De,[Ge,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>s(a).poolAddress=o)},null,512),[[r,s(a).poolAddress]])]),e("div",Be,[Se,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[17]||(t[17]=o=>s(a).refCount=o)},null,512),[[r,s(a).refCount]])]),e("div",Ke,[je,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>s(a).amount=o)},null,512),[[r,s(a).amount]])]),e("div",Le,[ze,e("div",Ne,[n(e("input",{class:"bg-transparent border-1 border-divider p-1 mx-0",type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=o=>s(a).autoEx=o)},null,512),[[B,s(a).autoEx]])])]),e("div",qe,[Qe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[20]||(t[20]=o=>s(a).minExAmount=o)},null,512),[[r,s(a).minExAmount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:C},"Deposit")]),We,e("div",Ye,[He,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>A.value=o)},null,512),[[r,A.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:h},"Upgrade")]),Je,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:E},"Get reward address")])]))}});export{et as default};
