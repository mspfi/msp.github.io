import{d as K,j as x,f as j,r as y,a1 as L,c as N,k as e,y as n,a2 as r,u as s,ae as q,z,P as p,o as Q,Q as W}from"./vendor.b1415288.js";import{u as H,C as u,i as J,g as O,s as X,a as Y,b as Z,d as $,P as ee,c as te,e as oe,f as se,h as ne}from"./index.360fc79e.js";const re={class:"container mx-auto text-left mb-3rem"},le={class:"flex items-center"},ae=e("div",{class:"w-10rem"},"Program id *",-1),ie=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init pool -------",-1),de={class:"flex items-center mb-1rem"},ce=e("div",{class:"w-10rem"},"Root Account *",-1),me={class:"flex items-center mb-1rem"},ue=e("div",{class:"w-10rem"},"Rent Account *",-1),pe={class:"flex items-center mb-1rem"},be=e("div",{class:"w-10rem"},"Token1 *",-1),ve={class:"flex items-center mb-1rem"},fe=e("div",{class:"w-10rem"},"Start Time",-1),xe={class:"flex items-center"},we=e("div",{class:"w-10rem"},"ism",-1),_e=e("div",{class:"mb-1rem opacity-50 mt-1"},"ism\u586B9\u4F4D\u7CBE\u5EA6\u540E\uFF081000000000\uFF09",-1),ye=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get pool -------",-1),ge={class:"flex items-center mb-1rem"},ke=e("div",{class:"w-10rem"},"Pool id *",-1),Ae=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set token -------",-1),Ie={class:"flex items-center mb-1rem"},Ue=e("div",{class:"w-10rem"},"Pool id *",-1),Te={class:"flex items-center mb-1rem"},Ve=e("div",{class:"w-10rem"},"Token id *",-1),he={class:"flex items-center mb-1rem"},Ce=e("div",{class:"w-10rem"},"Token index *",-1),Pe={class:"flex items-center mb-1rem"},Se=e("div",{class:"w-10rem"},"Token rate *",-1),Ee={class:"flex items-center mb-1rem"},Me=e("div",{class:"w-10rem"},"Token price *(decimal: 9)",-1),Re=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init miner -------",-1),Fe={class:"flex items-center mb-1rem"},De=e("div",{class:"w-10rem"},"Pool id *",-1),Ge={class:"flex items-center mb-1rem"},Be=e("div",{class:"w-10rem"},"Referee *",-1),Ke=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get miner -------",-1),je={class:"flex items-center mb-1rem"},Le=e("div",{class:"w-10rem"},"Miner id *",-1),Ne=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Deposit -------",-1),qe={class:"flex items-center mb-1rem"},ze=e("div",{class:"w-10rem"},"Pool index *",-1),Qe={class:"flex items-center mb-1rem"},We=e("div",{class:"w-10rem"},"Pool id *",-1),He={class:"flex items-center mb-1rem"},Je=e("div",{class:"w-10rem"},"Ref count *",-1),Oe={class:"flex items-center mb-1rem"},Xe=e("div",{class:"w-10rem"},"Amount *",-1),Ye={class:"flex items-center mb-1rem"},Ze=e("div",{class:"w-10rem"},"Auto ex *",-1),$e={class:"w-full"},et={class:"flex items-center mb-1rem"},tt=e("div",{class:"w-10rem"},"Min ex amount *",-1),ot=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Upgrade level -------",-1),st={class:"flex items-center mb-1rem"},nt=e("div",{class:"w-10rem"},"Level *",-1),rt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Claim -------",-1),lt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set ism -------",-1),at={class:"flex items-center mb-1rem"},it=e("div",{class:"w-10rem"},"ism *",-1),dt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Safe transfer -------",-1),ct={class:"flex items-center mb-1rem"},mt=e("div",{class:"w-10rem"},"amount *",-1),ut={class:"flex items-center mb-1rem"},pt=e("div",{class:"w-10rem"},"To account *",-1),bt={class:"c-loading"},wt=K({setup(vt){const I=x(!1),{publicKey:a,sendTransaction:U,signTransaction:T}=j(),{solConnectionState:c}=H(),g=x(u.programId),b=async(l,t)=>{const o=new W().add(...l),B=await U(o,c.connection,{signers:t});await c.connection.confirmTransaction(B,"processed")},i=y({rootAccount:u.defaultRootAccount,marketAccount:u.defaultMarketAccount,token1:u.systemTokenAddress,startTime:Math.floor(new Date().getTime()/1e3),ism:"0"}),V=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await J({connection:c.connection,poolProgramKey:new p(g.value),payer:a.value,marketAccount:new p(i.marketAccount),rootAccount:new p(i.rootAccount),token1:new p(i.token1),startTime:i.startTime.toString(),ism:i.ism});await b(l,t)},w=x(u.poolAddress),h=async()=>{!w.value||(console.log(w.value),await O(c.connection,w.value))},m=y({poolId:u.poolAddress,tokenId:"",index:"0",rate:"50",price:"2000000"}),C=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await X(c.connection,a.value,m);await b(l,t)},v=y({poolId:u.poolAddress,referee:u.defaultRootAccount,isRoot:!0}),P=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await Y(c.connection,a.value,{poolProgramKey:new p(g.value),poolKey:new p(v.poolId),referee:new p(v.referee),isRoot:v.isRoot});await b(l,t)},_=x(""),S=async()=>{!_.value||await Z(c.connection,new p(_.value))},d=y({poolIndex:0,poolAddress:u.poolAddress,refCount:"0",amount:"0.01",autoEx:!0,minExAmount:"0",refers:[]}),E=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await $(c.connection,a.value,d,ee[Number(d.poolIndex)]);await b(l,t)},k=x("1"),M=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await te(a.value,k.value);await b(l,t)},R=async()=>{const l=await oe();console.log("pool reward auth account:",l)};L(()=>{a.value&&(_.value=a.value.toBase58())});const F=async()=>{const l=await c.connection.requestAirdrop(a.value,2e9);await c.connection.confirmTransaction(l)},A=x(u.ism),D=async()=>{const{allIns:l,signers:t}=await se(c.connection,a.value,A.value);await b(l,t)},f=y({toAccount:"",amount:""}),G=async()=>{const{allIns:l,signers:t}=await ne(c.connection,a.value,T.value,f.amount,f.toAccount);await b(l,t)};return(l,t)=>(Q(),N("div",re,[e("div",{class:"text-center mb-2rem"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:F},"Get airdrop")]),e("div",le,[ae,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o)},null,512),[[r,g.value]])]),ie,e("div",de,[ce,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s(i).rootAccount=o)},null,512),[[r,s(i).rootAccount]])]),e("div",me,[ue,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s(i).marketAccount=o)},null,512),[[r,s(i).marketAccount]])]),e("div",pe,[be,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s(i).token1=o)},null,512),[[r,s(i).token1]])]),e("div",ve,[fe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>s(i).startTime=o)},null,512),[[r,s(i).startTime]])]),e("div",xe,[we,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>s(i).ism=o)},null,512),[[r,s(i).ism]])]),_e,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:V},"Init Pool")]),ye,e("div",ge,[ke,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>w.value=o)},null,512),[[r,w.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:h},"Get Pool")]),Ae,e("div",Ie,[Ue,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>s(m).poolId=o)},null,512),[[r,s(m).poolId]])]),e("div",Te,[Ve,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>s(m).tokenId=o)},null,512),[[r,s(m).tokenId]])]),e("div",he,[Ce,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>s(m).index=o)},null,512),[[r,s(m).index]])]),e("div",Pe,[Se,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>s(m).rate=o)},null,512),[[r,s(m).rate]])]),e("div",Ee,[Me,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>s(m).price=o)},null,512),[[r,s(m).price]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:C},"Set token")]),Re,e("div",Fe,[De,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[12]||(t[12]=o=>s(v).poolId=o)},null,512),[[r,s(v).poolId]])]),e("div",Ge,[Be,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>s(v).referee=o)},null,512),[[r,s(v).referee]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:P},"Init Miner")]),Ke,e("div",je,[Le,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>_.value=o)},null,512),[[r,_.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:S},"Get miner")]),Ne,e("div",qe,[ze,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>s(d).poolIndex=o)},null,512),[[r,s(d).poolIndex]])]),e("div",Qe,[We,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>s(d).poolAddress=o)},null,512),[[r,s(d).poolAddress]])]),e("div",He,[Je,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[17]||(t[17]=o=>s(d).refCount=o)},null,512),[[r,s(d).refCount]])]),e("div",Oe,[Xe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>s(d).amount=o)},null,512),[[r,s(d).amount]])]),e("div",Ye,[Ze,e("div",$e,[n(e("input",{class:"bg-transparent border-1 border-divider p-1 mx-0",type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=o=>s(d).autoEx=o)},null,512),[[q,s(d).autoEx]])])]),e("div",et,[tt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[20]||(t[20]=o=>s(d).minExAmount=o)},null,512),[[r,s(d).minExAmount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:E},"Deposit")]),ot,e("div",st,[nt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>k.value=o)},null,512),[[r,k.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:M},"Upgrade")]),rt,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:R},"Get reward address")]),lt,e("div",at,[it,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[22]||(t[22]=o=>A.value=o)},null,512),[[r,A.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:D},"Set ism")]),dt,e("div",ct,[mt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[23]||(t[23]=o=>s(f).amount=o)},null,512),[[r,s(f).amount]])]),e("div",ut,[pt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[24]||(t[24]=o=>s(f).toAccount=o)},null,512),[[r,s(f).toAccount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:G},"Safe transfer")]),n(e("div",bt,null,512),[[z,I.value]])]))}});export{wt as default};
