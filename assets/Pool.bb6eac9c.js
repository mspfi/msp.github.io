import{d as D,l as u,h as K,r as b,a3 as q,e as j,m as e,B as r,a4 as a,u as s,G as z,U as _,o as N,R as Q}from"./vendor.cbae2b3c.js";import{u as W,C as m,i as J,g as Z,s as H,a as O,b as X,c as Y,d as $,e as ee,f as te,h as oe}from"./index.ca744a81.js";const se={class:"container mx-auto text-left mb-3rem"},ne={class:"flex items-center"},re=e("div",{class:"w-10rem"},"Program id *",-1),ae=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init pool -------",-1),le={class:"flex items-center mb-1rem"},ie=e("div",{class:"w-10rem"},"Root Account *",-1),de={class:"flex items-center mb-1rem"},ce=e("div",{class:"w-10rem"},"Rent Account *",-1),me={class:"flex items-center mb-1rem"},ue=e("div",{class:"w-10rem"},"Token1 *",-1),pe={class:"flex items-center mb-1rem"},be=e("div",{class:"w-10rem"},"Start Time",-1),ve={class:"flex items-center"},fe=e("div",{class:"w-10rem"},"ism",-1),xe=e("div",{class:"mb-1rem opacity-50 mt-1"},"ism\u586B9\u4F4D\u7CBE\u5EA6\u540E\uFF081000000000\uFF09",-1),we=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get pool -------",-1),ye={class:"flex items-center mb-1rem"},_e=e("div",{class:"w-10rem"},"Pool id *",-1),ge=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set token -------",-1),ke={class:"flex items-center mb-1rem"},Ae=e("div",{class:"w-10rem"},"Pool id *",-1),Te={class:"flex items-center mb-1rem"},he=e("div",{class:"w-10rem"},"Token id *",-1),Ie={class:"flex items-center mb-1rem"},Ce=e("div",{class:"w-10rem"},"Token index *",-1),Ue={class:"flex items-center mb-1rem"},Ve=e("div",{class:"w-10rem"},"Token rate *",-1),Se={class:"flex items-center mb-1rem"},Fe=e("div",{class:"w-10rem"},"Token price *(decimal: 9)",-1),Ge=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get miner -------",-1),Me={class:"flex items-center mb-1rem"},Pe=e("div",{class:"w-10rem"},"Miner id *",-1),Ee=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get reward address -------",-1),Re=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set ism -------",-1),Be={class:"flex items-center mb-1rem"},Le=e("div",{class:"w-10rem"},"ism *",-1),De=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Safe transfer -------",-1),Ke={class:"flex items-center mb-1rem"},qe=e("div",{class:"w-10rem"},"amount *",-1),je={class:"flex items-center mb-1rem"},ze=e("div",{class:"w-10rem"},"To account *",-1),Ne=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set Market -------",-1),Qe={class:"flex items-center mb-1rem"},We=e("div",{class:"w-10rem"},"market info *",-1),Je=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Sol Transfer -------",-1),Ze={class:"flex items-center mb-1rem"},He=e("div",{class:"w-10rem"},"amount *",-1),Oe={class:"flex items-center mb-1rem"},Xe=e("div",{class:"w-10rem"},"to account id *",-1),Ye=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Change Level -------",-1),$e={class:"flex items-center mb-1rem"},et=e("div",{class:"w-10rem"},"level *",-1),tt={class:"flex items-center mb-1rem"},ot=e("div",{class:"w-10rem"},"account id *",-1),st={class:"c-loading"},lt=D({setup(nt){const g=u(!1),{publicKey:d,sendTransaction:h,signTransaction:I}=K(),{solConnectionState:i}=W(),k=u(m.programId),p=async(n,t)=>{g.value=!0;try{const o=new Q().add(...n),L=await h(o,i.connection,{signers:t});await i.connection.confirmTransaction(L,"processed")}catch(o){console.log(o)}finally{g.value=!1}},l=b({rootAccount:m.defaultRootAccount,marketAccount:m.defaultMarketAccount,token1:m.systemTokenAddress,startTime:Math.floor(new Date().getTime()/1e3),ism:"0"}),C=async()=>{if(!d.value)return;const{allIns:n,signers:t}=await J({connection:i.connection,poolProgramKey:new _(k.value),payer:d.value,marketAccount:new _(l.marketAccount),rootAccount:new _(l.rootAccount),token1:new _(l.token1),startTime:l.startTime.toString(),ism:l.ism});await p(n,t)},w=u(m.poolAddress),U=async()=>{!w.value||(console.log(w.value),await Z(i.connection,w.value))},c=b({poolId:m.poolAddress,tokenId:"",index:"0",rate:"50",price:"2000000"}),V=async()=>{if(!d.value)return;const{allIns:n,signers:t}=await H(i.connection,d.value,c);await p(n,t)};b({poolId:m.poolAddress,referee:m.defaultRootAccount,isRoot:!0});const y=u(""),S=async()=>{if(!y.value)return;const n=await O(i.connection,new _(y.value));console.log("miner data:",n)};b({poolIndex:0,poolAddress:m.poolAddress,refCount:"0",amount:"0.01",autoEx:!0,minExAmount:"0",refers:[]}),u("1");const F=async()=>{const n=await X();console.log("pool reward auth account:",n)};q(()=>{d.value&&(y.value=d.value.toBase58())});const G=async()=>{const n=await i.connection.requestAirdrop(d.value,2e9);await i.connection.confirmTransaction(n)},A=u(m.ism),M=async()=>{const{allIns:n,signers:t}=await Y(i.connection,d.value,A.value);await p(n,t)},v=b({toAccount:"",amount:""}),P=async()=>{const{allIns:n,signers:t}=await $(i.connection,d.value,I.value,v.amount,v.toAccount);await p(n,t)};u("0.03");const T=u(""),E=async()=>{const{allIns:n,signers:t}=await ee(i.connection,d.value,T.value);await p(n,t)},f=b({amount:"0.1",toAccount:"J1zA499oxzZSoMGFQ6NhWQySyd3gKoqwFGqC39L2tnME"}),R=async()=>{const{allIns:n,signers:t}=await te(i.connection,d.value,f.amount,f.toAccount);await p(n,t)},x=b({level:"0",account:""}),B=async()=>{const{allIns:n,signers:t}=await oe(i.connection,d.value,x.level,x.account);await p(n,t)};return(n,t)=>(N(),j("div",se,[e("div",{class:"text-center mb-2rem"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:G},"Get airdrop")]),e("div",ne,[re,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>k.value=o)},null,512),[[a,k.value]])]),ae,e("div",le,[ie,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s(l).rootAccount=o)},null,512),[[a,s(l).rootAccount]])]),e("div",de,[ce,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s(l).marketAccount=o)},null,512),[[a,s(l).marketAccount]])]),e("div",me,[ue,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s(l).token1=o)},null,512),[[a,s(l).token1]])]),e("div",pe,[be,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>s(l).startTime=o)},null,512),[[a,s(l).startTime]])]),e("div",ve,[fe,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>s(l).ism=o)},null,512),[[a,s(l).ism]])]),xe,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:C},"Init Pool")]),we,e("div",ye,[_e,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>w.value=o)},null,512),[[a,w.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:U},"Get Pool")]),ge,e("div",ke,[Ae,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>s(c).poolId=o)},null,512),[[a,s(c).poolId]])]),e("div",Te,[he,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>s(c).tokenId=o)},null,512),[[a,s(c).tokenId]])]),e("div",Ie,[Ce,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>s(c).index=o)},null,512),[[a,s(c).index]])]),e("div",Ue,[Ve,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>s(c).rate=o)},null,512),[[a,s(c).rate]])]),e("div",Se,[Fe,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>s(c).price=o)},null,512),[[a,s(c).price]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:V},"Set token")]),Ge,e("div",Me,[Pe,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[12]||(t[12]=o=>y.value=o)},null,512),[[a,y.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:S},"Get miner")]),Ee,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:F},"Get reward address")]),Re,e("div",Be,[Le,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>A.value=o)},null,512),[[a,A.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:M},"Set ism")]),De,e("div",Ke,[qe,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>s(v).amount=o)},null,512),[[a,s(v).amount]])]),e("div",je,[ze,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>s(v).toAccount=o)},null,512),[[a,s(v).toAccount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:P},"Safe transfer")]),Ne,e("div",Qe,[We,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>T.value=o)},null,512),[[a,T.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:E},"Set Market")]),Je,e("div",Ze,[He,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[17]||(t[17]=o=>s(f).amount=o)},null,512),[[a,s(f).amount]])]),e("div",Oe,[Xe,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>s(f).toAccount=o)},null,512),[[a,s(f).toAccount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:R},"Sol Transfer")]),Ye,e("div",$e,[et,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[19]||(t[19]=o=>s(x).level=o)},null,512),[[a,s(x).level]])]),e("div",tt,[ot,r(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[20]||(t[20]=o=>s(x).account=o)},null,512),[[a,s(x).account]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:B},"Change Level")]),r(e("div",st,null,512),[[z,g.value]])]))}});export{lt as default};
