import{d as R,f as D,j as g,r as k,a1 as B,c as G,k as e,y as s,a2 as i,u as n,ae as S,P as p,Q as x,o as K}from"./vendor.b1415288.js";import{u as j,C as b,i as L,g as z,s as N,a as q,b as Q,d as W,P as Y,c as H,e as J}from"./index.774568a4.js";const O={class:"container mx-auto text-left mb-3rem"},X={class:"flex items-center"},Z=e("div",{class:"w-10rem"},"Program id *",-1),$=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init pool -------",-1),ee={class:"flex items-center mb-1rem"},te=e("div",{class:"w-10rem"},"Root Account *",-1),oe={class:"flex items-center mb-1rem"},ne=e("div",{class:"w-10rem"},"Rent Account *",-1),se={class:"flex items-center mb-1rem"},re=e("div",{class:"w-10rem"},"Token1 *",-1),ie={class:"flex items-center mb-1rem"},ae=e("div",{class:"w-10rem"},"Start Time",-1),le={class:"flex items-center"},de=e("div",{class:"w-10rem"},"ism",-1),ce=e("div",{class:"mb-1rem opacity-50 mt-1"},"ism\u586B9\u4F4D\u7CBE\u5EA6\u540E\uFF081000000000\uFF09",-1),me=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get pool -------",-1),ue={class:"flex items-center mb-1rem"},pe=e("div",{class:"w-10rem"},"Pool id *",-1),be=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set token -------",-1),ve={class:"flex items-center mb-1rem"},fe=e("div",{class:"w-10rem"},"Pool id *",-1),xe={class:"flex items-center mb-1rem"},we=e("div",{class:"w-10rem"},"Token id *",-1),_e={class:"flex items-center mb-1rem"},ye=e("div",{class:"w-10rem"},"Token index *",-1),ge={class:"flex items-center mb-1rem"},ke=e("div",{class:"w-10rem"},"Token rate *",-1),Ae={class:"flex items-center mb-1rem"},Ie=e("div",{class:"w-10rem"},"Token price *(decimal: 9)",-1),Te=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init miner -------",-1),Ue={class:"flex items-center mb-1rem"},Ce=e("div",{class:"w-10rem"},"Pool id *",-1),Ve={class:"flex items-center mb-1rem"},Pe=e("div",{class:"w-10rem"},"Referee *",-1),he=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get miner -------",-1),Ee={class:"flex items-center mb-1rem"},Fe=e("div",{class:"w-10rem"},"Miner id *",-1),Me=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Deposit -------",-1),Re={class:"flex items-center mb-1rem"},De=e("div",{class:"w-10rem"},"Pool index *",-1),Be={class:"flex items-center mb-1rem"},Ge=e("div",{class:"w-10rem"},"Pool id *",-1),Se={class:"flex items-center mb-1rem"},Ke=e("div",{class:"w-10rem"},"Ref count *",-1),je={class:"flex items-center mb-1rem"},Le=e("div",{class:"w-10rem"},"Amount *",-1),ze={class:"flex items-center mb-1rem"},Ne=e("div",{class:"w-10rem"},"Auto ex *",-1),qe={class:"w-full"},Qe={class:"flex items-center mb-1rem"},We=e("div",{class:"w-10rem"},"Min ex amount *",-1),Ye=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Upgrade Level -------",-1),He={class:"flex items-center mb-1rem"},Je=e("div",{class:"w-10rem"},"Level *",-1),Oe=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Claim -------",-1),et=R({setup(Xe){const{publicKey:a,sendTransaction:f,signTransaction:I}=D(),{solConnectionState:r}=j(),y=g(b.programId),l=k({rootAccount:b.defaultRootAccount,marketAccount:b.defaultMarketAccount,token1:b.systemTokenAddress,startTime:Math.floor(new Date().getTime()/1e3),ism:"0"}),T=async()=>{if(!a.value)return;const{allIns:c,signers:t}=await L({connection:r.connection,poolProgramKey:new p(y.value),payer:a.value,marketAccount:new p(l.marketAccount),rootAccount:new p(l.rootAccount),token1:new p(l.token1),startTime:l.startTime.toString(),ism:l.ism}),o=new x().add(...c),u=await f(o,r.connection,{signers:t});await r.connection.confirmTransaction(u,"processed")},w=g(b.poolAddress),U=async()=>{!w.value||(console.log(w.value),await z(r.connection,w.value))},m=k({poolId:b.poolAddress,tokenId:"",index:"0",rate:"50",price:"1"}),C=async()=>{if(!a.value)return;const{allIns:c,signers:t}=await N(r.connection,a.value,m),o=new x().add(...c),u=await f(o,r.connection,{signers:t});await r.connection.confirmTransaction(u,"processed")},v=k({poolId:b.poolAddress,referee:"7zycrP9ERdFexcBPPrv44zyxRjp28fpvFf5PE5h5D4Yb",isRoot:!0}),V=async()=>{if(!a.value)return;const{allIns:c,signers:t}=await q(r.connection,a.value,{poolProgramKey:new p(y.value),poolKey:new p(v.poolId),referee:new p(v.referee),isRoot:v.isRoot}),o=new x().add(...c),u=await f(o,r.connection,{signers:t});await r.connection.confirmTransaction(u,"processed")},_=g(""),P=async()=>{!_.value||await Q(r.connection,new p(_.value))},d=k({poolIndex:0,poolAddress:b.poolAddress,refCount:"0",amount:"0.01",autoEx:!0,minExAmount:"0",refers:[]}),h=async()=>{if(!a.value)return;const{allIns:c,signers:t}=await W(r.connection,a.value,d,Y[Number(d.poolIndex)]),o=new x().add(...c),u=await f(o,r.connection,{signers:t});await r.connection.confirmTransaction(u,"processed")},A=g("1"),E=async()=>{if(!a.value)return;const{allIns:c,signers:t}=await H(a.value,A.value),o=new x().add(...c),u=await f(o,r.connection,{signers:t});await r.connection.confirmTransaction(u,"processed")},F=async()=>{if(!a.value)return;const{allIns:c,signers:t}=await J(r.connection,a.value,I.value),o=new x().add(...c),u=await f(o,r.connection,{signers:t});await r.connection.confirmTransaction(u,"processed")};B(()=>{a.value&&(_.value=a.value.toBase58())});const M=async()=>{const c=await r.connection.requestAirdrop(a.value,2e9);await r.connection.confirmTransaction(c)};return(c,t)=>(K(),G("div",O,[e("div",{class:"text-center mb-2rem"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:M},"Get airdrop")]),e("div",X,[Z,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>y.value=o)},null,512),[[i,y.value]])]),$,e("div",ee,[te,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n(l).rootAccount=o)},null,512),[[i,n(l).rootAccount]])]),e("div",oe,[ne,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>n(l).marketAccount=o)},null,512),[[i,n(l).marketAccount]])]),e("div",se,[re,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>n(l).token1=o)},null,512),[[i,n(l).token1]])]),e("div",ie,[ae,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>n(l).startTime=o)},null,512),[[i,n(l).startTime]])]),e("div",le,[de,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>n(l).ism=o)},null,512),[[i,n(l).ism]])]),ce,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:T},"Init Pool")]),me,e("div",ue,[pe,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>w.value=o)},null,512),[[i,w.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:U},"Get Pool")]),be,e("div",ve,[fe,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>n(m).poolId=o)},null,512),[[i,n(m).poolId]])]),e("div",xe,[we,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>n(m).tokenId=o)},null,512),[[i,n(m).tokenId]])]),e("div",_e,[ye,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>n(m).index=o)},null,512),[[i,n(m).index]])]),e("div",ge,[ke,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>n(m).rate=o)},null,512),[[i,n(m).rate]])]),e("div",Ae,[Ie,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>n(m).price=o)},null,512),[[i,n(m).price]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:C},"Set token")]),Te,e("div",Ue,[Ce,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[12]||(t[12]=o=>n(v).poolId=o)},null,512),[[i,n(v).poolId]])]),e("div",Ve,[Pe,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>n(v).referee=o)},null,512),[[i,n(v).referee]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:V},"Init Miner")]),he,e("div",Ee,[Fe,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>_.value=o)},null,512),[[i,_.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:P},"Get miner")]),Me,e("div",Re,[De,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>n(d).poolIndex=o)},null,512),[[i,n(d).poolIndex]])]),e("div",Be,[Ge,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>n(d).poolAddress=o)},null,512),[[i,n(d).poolAddress]])]),e("div",Se,[Ke,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[17]||(t[17]=o=>n(d).refCount=o)},null,512),[[i,n(d).refCount]])]),e("div",je,[Le,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>n(d).amount=o)},null,512),[[i,n(d).amount]])]),e("div",ze,[Ne,e("div",qe,[s(e("input",{class:"bg-transparent border-1 border-divider p-1 mx-0",type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=o=>n(d).autoEx=o)},null,512),[[S,n(d).autoEx]])])]),e("div",Qe,[We,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[20]||(t[20]=o=>n(d).minExAmount=o)},null,512),[[i,n(d).minExAmount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:h},"Deposit")]),Ye,e("div",He,[Je,s(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>A.value=o)},null,512),[[i,A.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:E},"Upgrade")]),Oe,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:F},"Claim")])]))}});export{et as default};
