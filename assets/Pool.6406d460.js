import{d as L,l as f,h as N,r as y,a5 as q,e as W,m as e,B as n,a6 as r,u as s,ai as z,G as J,R as b,o as O,S as Q}from"./vendor.aaec5fb6.js";import{u as X,C as u,i as Y,g as Z,s as $,a as ee,b as te,d as oe,P as se,c as ne,e as re,f as le,h as ae,j as ie}from"./index.5ab1db87.js";const de={class:"container mx-auto text-left mb-3rem"},ce={class:"flex items-center"},me=e("div",{class:"w-10rem"},"Program id *",-1),ue=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init pool -------",-1),pe={class:"flex items-center mb-1rem"},be=e("div",{class:"w-10rem"},"Root Account *",-1),ve={class:"flex items-center mb-1rem"},fe=e("div",{class:"w-10rem"},"Rent Account *",-1),xe={class:"flex items-center mb-1rem"},we=e("div",{class:"w-10rem"},"Token1 *",-1),_e={class:"flex items-center mb-1rem"},ye=e("div",{class:"w-10rem"},"Start Time",-1),ge={class:"flex items-center"},ke=e("div",{class:"w-10rem"},"ism",-1),Ae=e("div",{class:"mb-1rem opacity-50 mt-1"},"ism\u586B9\u4F4D\u7CBE\u5EA6\u540E\uFF081000000000\uFF09",-1),Ie=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get pool -------",-1),Ue={class:"flex items-center mb-1rem"},Te=e("div",{class:"w-10rem"},"Pool id *",-1),he=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set token -------",-1),Ve={class:"flex items-center mb-1rem"},Ce=e("div",{class:"w-10rem"},"Pool id *",-1),Pe={class:"flex items-center mb-1rem"},Se=e("div",{class:"w-10rem"},"Token id *",-1),Re={class:"flex items-center mb-1rem"},Ee=e("div",{class:"w-10rem"},"Token index *",-1),Me={class:"flex items-center mb-1rem"},Fe=e("div",{class:"w-10rem"},"Token rate *",-1),Ge={class:"flex items-center mb-1rem"},De=e("div",{class:"w-10rem"},"Token price *(decimal: 9)",-1),Be=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Init miner -------",-1),Ke={class:"flex items-center mb-1rem"},je=e("div",{class:"w-10rem"},"Pool id *",-1),He={class:"flex items-center mb-1rem"},Le=e("div",{class:"w-10rem"},"Referee *",-1),Ne=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Get miner -------",-1),qe={class:"flex items-center mb-1rem"},We=e("div",{class:"w-10rem"},"Miner id *",-1),ze=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Deposit -------",-1),Je={class:"flex items-center mb-1rem"},Oe=e("div",{class:"w-10rem"},"Pool index *",-1),Qe={class:"flex items-center mb-1rem"},Xe=e("div",{class:"w-10rem"},"Pool id *",-1),Ye={class:"flex items-center mb-1rem"},Ze=e("div",{class:"w-10rem"},"Ref count *",-1),$e={class:"flex items-center mb-1rem"},et=e("div",{class:"w-10rem"},"Amount *",-1),tt={class:"flex items-center mb-1rem"},ot=e("div",{class:"w-10rem"},"Auto ex *",-1),st={class:"w-full"},nt={class:"flex items-center mb-1rem"},rt=e("div",{class:"w-10rem"},"Min ex amount *",-1),lt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Upgrade level -------",-1),at={class:"flex items-center mb-1rem"},it=e("div",{class:"w-10rem"},"Level *",-1),dt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Claim -------",-1),ct=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Set ism -------",-1),mt={class:"flex items-center mb-1rem"},ut=e("div",{class:"w-10rem"},"ism *",-1),pt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Safe transfer -------",-1),bt={class:"flex items-center mb-1rem"},vt=e("div",{class:"w-10rem"},"amount *",-1),ft={class:"flex items-center mb-1rem"},xt=e("div",{class:"w-10rem"},"To account *",-1),wt=e("div",{class:"font-bold mb-1rem text-primary text-center my-3rem"},"------- Swap -------",-1),_t={class:"flex items-center mb-1rem"},yt=e("div",{class:"w-10rem"},"amount *",-1),gt={class:"c-loading"},Ut=L({setup(kt){const T=f(!1),{publicKey:a,sendTransaction:h,signTransaction:k}=N(),{solConnectionState:c}=X(),g=f(u.programId),p=async(l,t)=>{const o=new Q().add(...l),H=await h(o,c.connection,{signers:t});await c.connection.confirmTransaction(H,"processed")},i=y({rootAccount:u.defaultRootAccount,marketAccount:u.defaultMarketAccount,token1:u.systemTokenAddress,startTime:Math.floor(new Date().getTime()/1e3),ism:"0"}),V=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await Y({connection:c.connection,poolProgramKey:new b(g.value),payer:a.value,marketAccount:new b(i.marketAccount),rootAccount:new b(i.rootAccount),token1:new b(i.token1),startTime:i.startTime.toString(),ism:i.ism});await p(l,t)},w=f(u.poolAddress),C=async()=>{!w.value||(console.log(w.value),await Z(c.connection,w.value))},m=y({poolId:u.poolAddress,tokenId:"",index:"0",rate:"50",price:"2000000"}),P=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await $(c.connection,a.value,m);await p(l,t)},v=y({poolId:u.poolAddress,referee:u.defaultRootAccount,isRoot:!0}),S=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await ee(c.connection,a.value,{poolProgramKey:new b(g.value),poolKey:new b(v.poolId),referee:new b(v.referee),isRoot:v.isRoot});await p(l,t)},_=f(""),R=async()=>{if(!_.value)return;const l=await te(c.connection,new b(_.value));console.log("miner data:",l)},d=y({poolIndex:0,poolAddress:u.poolAddress,refCount:"0",amount:"0.01",autoEx:!0,minExAmount:"0",refers:[]}),E=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await oe(c.connection,a.value,k.value,d,se[Number(d.poolIndex)]);await p(l,t)},A=f("1"),M=async()=>{if(!a.value)return;const{allIns:l,signers:t}=await ne(a.value,A.value);await p(l,t)},F=async()=>{const l=await re();console.log("pool reward auth account:",l)};q(()=>{a.value&&(_.value=a.value.toBase58())});const G=async()=>{const l=await c.connection.requestAirdrop(a.value,2e9);await c.connection.confirmTransaction(l)},I=f(u.ism),D=async()=>{const{allIns:l,signers:t}=await le(c.connection,a.value,I.value);await p(l,t)},x=y({toAccount:"",amount:""}),B=async()=>{const{allIns:l,signers:t}=await ae(c.connection,a.value,k.value,x.amount,x.toAccount);await p(l,t)},U=f(""),K=async()=>{},j=async()=>{const{allIns:l,signers:t}=await ie(c.connection,a.value,k.value);await p(l,t)};return(l,t)=>(O(),W("div",de,[e("div",{class:"text-center mb-2rem"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:G},"Get airdrop")]),e("div",ce,[me,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o)},null,512),[[r,g.value]])]),ue,e("div",pe,[be,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s(i).rootAccount=o)},null,512),[[r,s(i).rootAccount]])]),e("div",ve,[fe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s(i).marketAccount=o)},null,512),[[r,s(i).marketAccount]])]),e("div",xe,[we,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s(i).token1=o)},null,512),[[r,s(i).token1]])]),e("div",_e,[ye,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>s(i).startTime=o)},null,512),[[r,s(i).startTime]])]),e("div",ge,[ke,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>s(i).ism=o)},null,512),[[r,s(i).ism]])]),Ae,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:V},"Init Pool")]),Ie,e("div",Ue,[Te,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>w.value=o)},null,512),[[r,w.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:C},"Get Pool")]),he,e("div",Ve,[Ce,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>s(m).poolId=o)},null,512),[[r,s(m).poolId]])]),e("div",Pe,[Se,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>s(m).tokenId=o)},null,512),[[r,s(m).tokenId]])]),e("div",Re,[Ee,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>s(m).index=o)},null,512),[[r,s(m).index]])]),e("div",Me,[Fe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>s(m).rate=o)},null,512),[[r,s(m).rate]])]),e("div",Ge,[De,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>s(m).price=o)},null,512),[[r,s(m).price]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:P},"Set token")]),Be,e("div",Ke,[je,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[12]||(t[12]=o=>s(v).poolId=o)},null,512),[[r,s(v).poolId]])]),e("div",He,[Le,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>s(v).referee=o)},null,512),[[r,s(v).referee]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:S},"Init Miner")]),Ne,e("div",qe,[We,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>_.value=o)},null,512),[[r,_.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:R},"Get miner")]),ze,e("div",Je,[Oe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>s(d).poolIndex=o)},null,512),[[r,s(d).poolIndex]])]),e("div",Qe,[Xe,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>s(d).poolAddress=o)},null,512),[[r,s(d).poolAddress]])]),e("div",Ye,[Ze,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[17]||(t[17]=o=>s(d).refCount=o)},null,512),[[r,s(d).refCount]])]),e("div",$e,[et,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>s(d).amount=o)},null,512),[[r,s(d).amount]])]),e("div",tt,[ot,e("div",st,[n(e("input",{class:"bg-transparent border-1 border-divider p-1 mx-0",type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=o=>s(d).autoEx=o)},null,512),[[z,s(d).autoEx]])])]),e("div",nt,[rt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[20]||(t[20]=o=>s(d).minExAmount=o)},null,512),[[r,s(d).minExAmount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:E},"Deposit")]),lt,e("div",at,[it,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>A.value=o)},null,512),[[r,A.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:M},"Upgrade")]),dt,e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:F},"Get reward address")]),ct,e("div",mt,[ut,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[22]||(t[22]=o=>I.value=o)},null,512),[[r,I.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:D},"Set ism")]),pt,e("div",bt,[vt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[23]||(t[23]=o=>s(x).amount=o)},null,512),[[r,s(x).amount]])]),e("div",ft,[xt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[24]||(t[24]=o=>s(x).toAccount=o)},null,512),[[r,s(x).toAccount]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:B},"Safe transfer")]),wt,e("div",_t,[yt,n(e("input",{class:"w-full bg-transparent border-1 border-divider p-1",type:"text","onUpdate:modelValue":t[25]||(t[25]=o=>U.value=o)},null,512),[[r,U.value]])]),e("div",{class:"text-center"},[e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm",onClick:K},"Swap"),e("button",{class:"bg-primary p-2 text-black font-bold rounded-sm ml-2rem",onClick:j},"Hello2")]),n(e("div",gt,null,512),[[J,T.value]])]))}});export{Ut as default};
